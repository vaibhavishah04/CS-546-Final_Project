<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" >
    <meta name="viewport" content="width=device-width, initial-scale=1.0" >
    <link rel="stylesheet" type="text/css" href="/public/css/styles.css" >

    <title>Profile - NJ FloodNet</title>
  </head>

  <body>
    <header><%- include('../partials/header'); %></header>

    <main id="profile-container">
      <h1 class="profile-title">Profile Info</h1>
      <p class="profile-info">Name: <%= userInfo.firstName %> <%= userInfo.lastName %></p>
      <p class="profile-info">Username: <%= userInfo.username %></p>
      <p class="profile-info">Email: <%= userInfo.email %></p>
      <% if (userInfo.isAdmin) { %>
        <p class="profile-admin">Admin Account</p>
      <% } %>

      <!-- Form for email subscription -->
      <form action="/users/profile/subscription" method="POST">
        <div class="subscription-section">
          <label for="email-subscription">
            <input 
              type="checkbox" 
              id="email-subscription" 
              name="emailSubscription"
              <%= userInfo.emailSubscription ? "checked" : "" %>
            >
            Subscribe to email updates
          </label>
        </div>
        <button type="submit" class="profile-update-button">Update Profile</button>
      </form>

      <!-- Logout button -->
      <form action="/users/profile" method="POST">
        <button type="submit" class="profile-logout-button">Log Out</button>
      </form>
    </main>

    <footer><%- include('../partials/footer'); %></footer>
  </body>
</html>